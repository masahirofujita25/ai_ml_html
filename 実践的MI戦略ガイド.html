<!DOCTYPE html>
<html lang="ja" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>実践的MI戦略ガイド</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Professional Tech (Slate, Indigo, Sky, Green, Amber, Red) -->
    <!-- Application Structure Plan: A multi-chapter, interactive decision tree that guides users through the entire strategic workflow from the source document. It begins with a critical 'Accuracy Gate' (Chapter 2), proceeds to in-depth model interpretation (Chapter 3), helps formulate the next experimental plan based on those findings (Chapter 4), and concludes with advanced strategies (Chapter 5). This chapter-based, gate-driven structure was chosen to mirror the real-world R&D process, forcing a logical progression and ensuring foundational issues (like model accuracy) are addressed before moving to advanced interpretation, making it highly practical and educational. -->
    <!-- Visualization & Content Choices: Accuracy Gate -> Goal: Qualify -> 3-Tier Interactive Buttons (HTML/JS) -> Directly maps to the guide's R2 thresholds, providing clear go/no-go actions. Outlier Definition -> Goal: Inform/Differentiate -> Expandable Detail Section (HTML/JS) -> Visually separates 'Static' vs 'Dynamic' outliers for clarity. Strategic Flowchart -> Goal: Guide Decision -> Nested Interactive Cards -> Replicates the core decision tree from the report (Outlier? -> Weakness? -> Optimize). Unimportant Features -> Goal: Explain -> Tabbed Interface -> Details the 'Safety', 'Practical', and 'Robustness' strategies. All content is now included within the app to eliminate the need to refer back to the source doc. All visual elements are built with Tailwind CSS, confirming NO SVG/Mermaid. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: #f1f5f9;
        }
        .chapter-card {
            background-color: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.07), 0 4px 6px -4px rgb(0 0 0 / 0.07);
            border: 1px solid #e2e8f0;
        }
        .control-btn {
            transition: all 0.2s ease-in-out;
            border: 1px solid #d1d5db;
        }
        .control-btn.active {
            background-color: #4f46e5;
            color: white;
            border-color: #4f46e5;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgb(79 70 229 / 0.3);
        }
        .result-card {
            display: none;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.4s ease-in-out;
            margin-top: 1.5rem;
            padding: 1.5rem;
            border-radius: 0.75rem;
        }
        .result-card.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        .chapter-number {
            background-color: #4f46e5;
            color: white;
            border-radius: 9999px;
            width: 3rem;
            height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
            flex-shrink: 0;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        details > summary {
            cursor: pointer;
            list-style: none;
        }
        details > summary::-webkit-details-marker {
            display: none;
        }
    </style>
</head>
<body class="text-slate-900">

    <header class="bg-white/95 backdrop-blur-lg shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-5">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-900 text-center">実践的MI戦略ガイド</h1>
            <p class="text-center text-slate-600 mt-2">モデル解釈から次の一手を導くためのインタラクティブ・ワークフロー</p>
        </div>
    </header>

    <main class="max-w-5xl mx-auto p-4 sm:p-6 lg:p-8 space-y-16">

        <!-- Chapter 2: Accuracy Gate -->
        <div class="chapter-card" id="chapter2">
            <div class="flex items-start space-x-6">
                <div class="chapter-number">1</div>
                <div>
                    <h2 class="text-2xl font-bold text-slate-800 mb-2">最初の関門：モデル精度の評価</h2>
                    <p class="text-slate-600 mb-6">全ての解釈は、信頼できるモデルの上に成り立ちます。R2スコアなどを確認し、モデルの信頼性を評価しましょう。</p>
                    <div class="flex flex-col sm:flex-row gap-3">
                        <button class="control-btn font-semibold py-3 px-5 rounded-lg w-full text-center" data-target="accuracy-high">高精度 (例: R2 > 0.8)</button>
                        <button class="control-btn font-semibold py-3 px-5 rounded-lg w-full text-center" data-target="accuracy-mid">中精度 (例: 0.6-0.8)</button>
                        <button class="control-btn font-semibold py-3 px-5 rounded-lg w-full text-center" data-target="accuracy-low">低精度 (例: R2 < 0.6)</button>
                    </div>
                </div>
            </div>
            <div id="accuracy-high" class="result-card bg-green-50 text-green-800 border border-green-200">
                <h4 class="font-bold">判定：合格</h4>
                <p class="text-sm">モデルは信頼できます。このモデルを基盤として、自信を持って次の**【第2章：モデルの解剖】**に進みましょう。</p>
            </div>
            <div id="accuracy-mid" class="result-card bg-amber-50 text-amber-800 border border-amber-200">
                <h4 class="font-bold">判定：注意</h4>
                <p class="text-sm">モデルは一定の傾向を捉えていますが、まだ改善の余地が大きいです。限定的な解釈は可能ですが、並行して**【アクション：モデル改善】**を行うことを強く推奨します。</p>
            </div>
            <div id="accuracy-low" class="result-card bg-red-50 text-red-800 border border-red-200">
                <h4 class="font-bold">判定：不合格</h4>
                <p class="text-sm mb-2">現在のモデルの信頼性は低く、このまま解釈を進めるのは危険です。まず**【アクション：モデル改善】**に注力してください。</p>
                <h5 class="font-semibold text-sm mt-3">アクションプラン：</h5>
                <ul class="list-disc list-inside text-sm space-y-1">
                    <li>**データセットの見直し**: データ数は十分か？測定誤差が大きすぎないか？</li>
                    <li>**特徴量エンジニアリング**: 新しい特徴量の追加や、不要な特徴量の削除を検討する。</li>
                </ul>
            </div>
        </div>

        <!-- Chapter 3: Interpretation -->
        <div class="chapter-card" id="chapter3">
            <div class="flex items-start space-x-6">
                <div class="chapter-number">2</div>
                <div>
                    <h2 class="text-2xl font-bold text-slate-800 mb-2">モデルの解剖：インサイトの抽出</h2>
                    <p class="text-slate-600 mb-6">信頼できるモデルの内部を「解剖」し、データからのメッセージを読み解きます。あなたの状況に当てはまるものを選択・確認してください。</p>
                    <div class="space-y-4">
                        <details class="bg-slate-50 border rounded-lg">
                            <summary class="p-4 font-semibold text-slate-700 flex justify-between items-center"><span>3.1 モデルタイプの診断</span><span>▼</span></summary>
                            <div class="p-4 border-t text-sm text-slate-600">
                                <p class="mb-2">最も精度が良かったモデルのタイプは、データの全体像を教えてくれます。</p>
                                <ul class="list-disc list-inside space-y-2">
                                    <li><strong>「数式ベースモデル」が選ばれたら:</strong> 関係性は比較的**滑らか**で、数式で表現できる可能性があります。回帰式の各項を吟味し、ドメイン知識と照らし合わせましょう。</li>
                                    <li><strong>「ブラックボックスモデル」が選ばれたら:</strong> 関係性は**非常に複雑**で、交互作用や非線形性が存在します。SHAPを駆使して、どの特徴量がどう影響しているかを深掘りしましょう。</li>
                                </ul>
                            </div>
                        </details>
                        <details class="bg-slate-50 border rounded-lg">
                            <summary class="p-4 font-semibold text-slate-700 flex justify-between items-center"><span>3.2 SHAPによる重要特徴量の特定</span><span>▼</span></summary>
                            <div class="p-4 border-t text-sm text-slate-600">
                                <p>SHAP valueは、どの特徴量が結果に最も大きな影響を与えているかを教えてくれます。これは、次の実験で重点的に動かすべきパラメータを特定する上で不可欠です。</p>
                            </div>
                        </details>
                        <details class="bg-slate-50 border rounded-lg">
                            <summary class="p-4 font-semibold text-slate-700 flex justify-between items-center"><span>3.3 外れ値の特定</span><span>▼</span></summary>
                            <div class="p-4 border-t text-sm text-slate-600">
                                <p class="mb-3 font-semibold">2種類の外れ値を区別することが、プロジェクトの成否を分けます。</p>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div class="p-3 border rounded-md">
                                        <h5 class="font-bold">静的な外れ値</h5>
                                        <p class="text-xs mt-1">データセット自体の分布から大きく外れた点。入力ミスや測定エラーの可能性を示唆します。</p>
                                    </div>
                                     <div class="p-3 border rounded-md bg-amber-50 border-amber-200">
                                        <h5 class="font-bold text-amber-800">動的な外れ値 (予測を裏切る異常点)</h5>
                                        <p class="text-xs mt-1 text-amber-700">モデルの予測値と実測値が極端に乖離している点。未知の現象＝**「宝の山」**の可能性があります。</p>
                                    </div>
                                </div>
                                <p class="mt-3 font-semibold">動的な外れ値の発見こそが、MIの価値を最大化する鍵です。</p>
                            </div>
                        </details>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chapter 4: Decision -->
        <div class="chapter-card" id="chapter4">
             <div class="flex items-start space-x-6">
                <div class="chapter-number">3</div>
                <div>
                    <h2 class="text-2xl font-bold text-slate-800 mb-2">戦略的意思決定：次の実験計画を立てる</h2>
                    <p class="text-slate-600 mb-6">第2章の解釈結果に基づき、次に取るべきアクションを決定します。あなたの最優先事項はどれですか？</p>
                    <div class="flex flex-wrap gap-3">
                        <button class="control-btn font-semibold py-2 px-4 rounded-lg" data-target="strategy-outlier">動的な外れ値の正体を突き止めたい</button>
                        <button class="control-btn font-semibold py-2 px-4 rounded-lg" data-target="strategy-weakness">モデルの信頼性を向上させたい</button>
                        <button class="control-btn font-semibold py-2 px-4 rounded-lg" data-target="strategy-optimize">目標達成のための最適化を行いたい</button>
                    </div>
                </div>
            </div>
            <div id="strategy-outlier" class="result-card bg-amber-50 text-amber-800 border border-amber-200">
                <h4 class="font-bold">最優先アクション：外れ値の正体を突き止める</h4>
                <p class="text-sm mb-2">これは「宝の山」か「地雷」です。放置は最大のリスクであり、最大の機会損失です。</p>
                <ol class="list-decimal list-inside text-sm space-y-1 mt-2">
                    <li><strong>原因調査</strong>: 目的変数の外れ値なら**再現実験**を、説明変数の外れ値なら**事実確認**を最優先で行います。</li>
                    <li><strong>判断</strong>: 再現できれば**「宝の山」**として深掘り。できなければ**「地雷」**としてデータ修正/除外。</li>
                    <li>モデルを再構築し、Step 1からやり直します。</li>
                </ol>
            </div>
            <div id="strategy-weakness" class="result-card bg-sky-50 text-sky-800 border border-sky-200">
                <h4 class="font-bold">アクション：モデルの信頼性向上</h4>
                <p class="text-sm mb-2">本格的な最適化の前に、モデルの弱点を補強し、予測信頼性を高めるべきです。</p>
                <ul class="list-disc list-inside text-sm space-y-1">
                    <li>モデル解釈から見つかったデータが不足している領域（例：分布の裾）を狙って、追加の実験点を計画します（DoEやベイズ最適化の「探索」戦略）。</li>
                    <li>データセットを補強し、モデルを再構築して、Step 1からやり直します。</li>
                </ul>
            </div>
            <div id="strategy-optimize" class="result-card bg-slate-50 border">
                <h4 class="font-bold text-slate-800">アクション：目標達成のための最適化</h4>
                <p class="text-sm text-slate-600 mb-2">信頼できるモデルを活用し、目標特性を達成するための実験を計画します。</p>
                <ol class="list-decimal list-inside text-sm space-y-2 text-slate-700">
                    <li><strong>逆解析/ベイズ最適化の実行</strong>: 目標特性を達成するためのパラメータ候補を探索します。</li>
                    <li><strong>非重要特徴量の固定</strong>: SHAPで重要でなかった特徴量は、コストや安定性を考慮して値を「固定」します（安全策として中央値が基本）。</li>
                    <li><strong>実験コストの考慮</strong>: 予算や時間に応じて、実験の進め方（逐次、デュアルトラック、並行）を決定します。</li>
                </ol>
            </div>
        </div>

        <!-- Chapter 5: Advanced -->
        <div class="chapter-card" id="chapter5">
             <div class="flex items-start space-x-6">
                <div class="chapter-number">4</div>
                <div>
                    <h2 class="text-2xl font-bold text-slate-800 mb-2">高度な活用</h2>
                    <p class="text-slate-600 mb-6">単一モデルのサイクルに慣れたら、さらに高度な活用を目指しましょう。</p>
                    <div class="space-y-4">
                         <details class="bg-slate-50 border rounded-lg">
                            <summary class="p-4 font-semibold text-slate-700 flex justify-between items-center"><span>4.1 多目的最適化</span><span>▼</span></summary>
                            <div class="p-4 border-t text-sm text-slate-600">
                                <p>複数の目的変数（例：強度とコスト）に対してそれぞれ単一のモデルを構築し、それらの予測結果から最適なトレードオフ関係にある**パレートフロント**を探索します。</p>
                            </div>
                        </details>
                        <details class="bg-slate-50 border rounded-lg">
                            <summary class="p-4 font-semibold text-slate-700 flex justify-between items-center"><span>4.2 ドメイン知識との対話</span><span>▼</span></summary>
                            <div class="p-4 border-t text-sm text-slate-600">
                                <p>モデルが示した結果を、物理・化学的な原理と結びつけて考察し、モデルの「なぜ」を理解し、新たな科学的仮説を創出します。</p>
                            </div>
                        </details>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="text-center py-10 px-4">
        <p class="text-sm text-slate-500">このガイドは、MIプロジェクトの反復的なサイクルをサポートするためのものです。</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const chapters = document.querySelectorAll('.chapter-card');
            
            chapters.forEach(chapter => {
                const buttons = chapter.querySelectorAll('.control-btn');
                const results = chapter.querySelectorAll('.result-card');

                buttons.forEach(button => {
                    button.addEventListener('click', () => {
                        buttons.forEach(btn => {
                            btn.classList.remove('active');
                        });
                        results.forEach(result => {
                            result.classList.remove('active');
                        });

                        button.classList.add('active');
                        const targetId = button.dataset.target;
                        const targetElement = document.getElementById(targetId);
                        if (targetElement) {
                            targetElement.classList.add('active');
                        }
                    });
                });
            });
        });
    </script>

</body>
</html>

